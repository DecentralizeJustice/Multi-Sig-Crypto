if (self.CavalryLogger) { CavalryLogger.start_js(["vtocd"]); }

__d("ChatInputWrapper.react",["ChatConfig","ChatInput.react","FantaTypeComposer","React","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("ChatConfig").get("chat_basic_input_module")||b("ChatInput.react");g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(h,{composer:this.props.composer,defaultText:this.props.defaultText,fileUploader:this.props.fileUploader,handleSend:this.props.handleSend,inputKeyDown:this.props.inputKeyDown,onBlur:this.props.onBlur,onEscape:this.props.onEscape,onFocus:this.props.onFocus,onTab:this.props.onTab,onTextChange:this.props.onTextChange,participants:this.props.participants,placeholder:this.props.placeholder,readOnly:this.props.readOnly,ref:this.props.inputRef,resizeFn:b("emptyFunction"),thread:this.props.thread,threadID:this.props.threadID,uploadPhotoFn:this.props.uploadPhotoFn,viewer:this.props.viewer})};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("FantaM4BotMenuButtonBootloader.react",["BootloadOnInteraction.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").createElement(b("BootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),{flyoutAlignment:a.flyoutAlignment,threadID:a.threadID,pageID:a.pageID,className:a.className}),loader:b("JSResource")("MessengerBotMenuButton.react").__setRef("FantaM4BotMenuButtonBootloader.react"),placeholder:b("React").createElement("div",{className:a.className})})};e.exports=a}),null);
__d("MercuryShareAttachmentRenderLocations.bs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a)return a[0]===1;else return!1}function b(a){switch(a){case 0:return"chat";case 1:return"chat_preview";case 2:return"messenger";case 3:return"pages_inbox"}}f.isPreview=a;f.getValue=b}),null);
__d("MessengerHotLikeButtonReact.bs",["ReasonReact.bs","MessengerHotLikeButton.react","MercuryShareAttachmentRenderLocations.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){return b("ReasonReact.bs").wrapJsForReason(b("MessengerHotLikeButton.react"),{className:a,customColor:c,customLike:d,CustomRenderer:e,location:b("MercuryShareAttachmentRenderLocations.bs").getValue(f),renderSize:g,sendSticker:h,sendCustomLike:i,threadID:j},k)}f.make=a}),null);
__d("FantaComposerSendButton.bs",["cx","fbt","bs_block","LinkReact.bs","ReasonReact.bs","bs_camlinternalLazy","bs_js_null_undefined","FantaMessageActions","MessengerHotLikeUtils","convertMIGColorToFIGColor","MessengerHotLikeButtonReact.bs","MessengerHotLikeChatSVGIcon.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("FantaComposerSendButton"),j=b("bs_block").__(246,[function(){return h._("Press Enter to send")}]);function a(a,c,d,e,f){__p&&__p();return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],function(){if(c)return b("ReasonReact.bs").element(0,0,b("MessengerHotLikeButtonReact.bs").make("_tws _sdp _13gi",d?b("convertMIGColorToFIGColor")(d[0].footer_color):"",b("MessengerHotLikeUtils").getCustomEmojiFromThread(b("bs_js_null_undefined").fromOption(d)),b("MessengerHotLikeChatSVGIcon.react"),0,16,function(a){b("FantaMessageActions").sendSticker(e,a);return 0},function(a,c,d){b("FantaMessageActions").sendHotLike(e,a.emoji,c,d);return 0},e,[]));else{var f=j.tag|0;return b("ReasonReact.bs").element(0,0,b("LinkReact.bs").make(0,0,0,["_sdp _p2z"],["tooltip"],[f===250?j[0]:f===246?b("bs_camlinternalLazy").force_lazy_block(j):j],0,0,0,0,[a],0,0,0,0,0,0,0,[]))}},i[10],i[11],i[12],i[13]]}f.component=i;f.title=j;f.make=a}),null);
__d("FantaM4BotMenuButtonBootloader.bs",["cx","ReasonReact.bs","bs_js_null_undefined","FantaM4BotMenuButtonBootloader.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("FantaM4BotMenuButtonBootloader.react"),{className:"_ucp _sdp",flyoutAlignment:"right",pageID:b("bs_js_null_undefined").fromOption(c),threadID:a},d)}f.make=a}),null);
__d("ChatInputRe.bs",["ReasonReact.bs","bs_js_null_undefined","ChatInputWrapper.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){return b("ReasonReact.bs").wrapJsForReason(b("ChatInputWrapper.react"),{composer:a,defaultText:c,fileUploader:d,handleSend:e,inputKeyDown:f,inputRef:b("bs_js_null_undefined").fromOption(g),onBlur:h?h[0]:function(){return 0},onEscape:i,onFocus:j?j[0]:function(){return 0},onTab:k,onTextChange:l,participants:m,placeholder:n,readOnly:o,thread:b("bs_js_null_undefined").fromOption(p),threadID:q,viewer:s,uploadPhotoFn:r,resizeFn:function(){return 0},initializeThingsWithInputFn:function(){return 0}},t)}f.make=a}),null);
__d("ChatPhotoUploaderRe.bs",["cx","fbt","ReasonReact.bs","MessengerDialogs.bs","bs_js_null_undefined","FantaMessageActions","MessengerDialogReact.bs","MercuryMessageActions","ChatPhotoUploader.react","MessengerDialogBodyReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){if(a)return 0;else return b("MessengerDialogs.bs").removeDialog(0)}function j(a,c){return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(0,0,b("MessengerDialogReact.bs").Dialog[0](0,i,0,0,0,0,0,[b("ReasonReact.bs").element(0,0,b("MessengerDialogReact.bs").Header[0](0,0,a)),b("ReasonReact.bs").element(0,0,b("MessengerDialogBodyReact.bs").make(0,[c])),b("ReasonReact.bs").element(0,0,b("MessengerDialogReact.bs").Footer[0](0,0,[b("ReasonReact.bs").element(0,0,b("MessengerDialogReact.bs").Button[0](0,[h._("OK")],0,["default"],[function(){return i(!1)}],[0],0,0,[]))]))]))})}function k(a,c){c=b("MercuryMessageActions").getForFBID(c);c.cancelAttachmentPlaceholder(a.upload_id,a);c=a.errorDialogParams;c=c==null?h._("Upload Failed"):c.title;a=a.errorDialogParams;a=a==null?h._("Please try again. Make sure you are uploading a valid file."):a.body;return j(c,a)}function a(a,c){b("FantaMessageActions").sendPhoto(a,c);return 0}function l(a,c){c=b("MercuryMessageActions").getForFBID(c);c.confirmAttachmentPlaceholder(a.upload_id,a);return 0}function m(a,c){c=b("MercuryMessageActions").getForFBID(c);c.cancelAttachmentPlaceholder(a.upload_id,a);return 0}function c(a,c,d,e,f,g,h,i,j,n,o){return b("ReasonReact.bs").wrapJsForReason(b("ChatPhotoUploader.react"),{actionURI:b("bs_js_null_undefined").fromOption(a),allowCrossPage:b("bs_js_null_undefined").fromOption(c),className:"_4pm3",composer:d,customUI:!0,disabled:b("bs_js_null_undefined").fromOption(e),focusInput:b("bs_js_null_undefined").fromOption(f),imageClassName:"hidden_elem",imagesOnly:b("bs_js_null_undefined").fromOption(g),inputClassname:b("bs_js_null_undefined").fromOption(h),linkClassName:"_4pn0 _691x",onAllUploadsComplete:function(a,b){return l(b,n)},onLastUploadCancel:function(a,b){return m(b,n)},onLastUploadFail:function(a,b){return k(b,n)},onMount:b("bs_js_null_undefined").fromOption(i),onSubmit:function(a,c){b("FantaMessageActions").sendPhoto(j,c);return 0},onUploadError:function(a,b){return k(b,n)},threadID:j},o)}f.handleToggle=i;f.showErrorDialog=j;f.handlePhotoUploadFail=k;f.handleUploadSubmit=a;f.handleUploadComplete=l;f.handleUploadCancel=m;f.make=c}),null);
__d("MercuryUploadFileUtil.bs",["fbt","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){if(a)return 0;else return b("MessengerDialogs.bs").removeDialog(0)}function a(a,c){return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(0,0,b("MessengerDialogReact.bs").Dialog[0](0,h,0,0,0,0,0,[b("ReasonReact.bs").element(0,0,b("MessengerDialogReact.bs").Header[0](0,0,a)),b("ReasonReact.bs").element(0,0,b("MessengerDialogBodyReact.bs").make(0,[c])),b("ReasonReact.bs").element(0,0,b("MessengerDialogReact.bs").Footer[0](0,0,[b("ReasonReact.bs").element(0,0,b("MessengerDialogReact.bs").Button[0](0,[g._("OK")],0,["default"],[function(){return h(!1)}],[0],0,0,[]))]))]))})}f.handleToggle=h;f.showErrorDialog=a}),null);
__d("MercuryGroupedInputButtonsReact.bs",["fbt","URI","bs_curry","bs_caml_array","ReasonReact.bs","AsyncRequest","MercuryConfig","PhotosUploadID","FantaMessageActions","UFIGroupedInputTabs","MercuryMessageActions","MercuryUploadFileUtil.bs","GroupedInputButtonImpl.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(){return 0}function i(a,c){c=b("MercuryMessageActions").getForFBID(c);var d=g._("Couldn't Send GIF"),e=g._("There was a problem sending this GIF. Choose another one and try.");c.cancelAttachmentPlaceholder(a,{upload_id:a,errorDialogParams:{body:e,title:d}});return b("MercuryUploadFileUtil.bs").showErrorDialog(d,e)}function j(a,c,d){a=a.payload.metadata;a=b("bs_caml_array").caml_array_get(a,0).gif_id;d=b("MercuryMessageActions").getForFBID(d);d.confirmAttachmentPlaceholder(c,{upload_id:c,gif_ids:[a]});return 0}function a(a,c){b("FantaMessageActions").sendSticker(a,c);return 0}function k(a,c,d){var e=b("PhotosUploadID").getNewID(),f=new(b("URI"))(b("MercuryConfig").upload_url),g=a.media.preview;g=g==null?a.media.thumbnail.url:g.url;var h=a.source;new(b("AsyncRequest"))(f.getPath()).setAllowCrossPageTransition(!0).setData({attribution_app_id:a.platformFBID,atach_id:e,external_image_url:h.url,preview_url:g,source:h}).setHandler(function(a){return j(a,e,d)}).setErrorHandler(function(){return i(e,d)}).send();b("FantaMessageActions").sendPhoto(c,{upload_id:e,preview_attachments:[{preview_url:g,upload_id:e,preview_width:h.width,preview_height:h.height,attach_type:"photo",preview_uploading:!0}]});return 0}function c(a,c,d,e,f,i){return b("ReasonReact.bs").wrapJsForReason(b("GroupedInputButtonImpl.react"),{flyoutShown:a,isMessenger:!0,onEmojiSelect:function(a){b("UFIGroupedInputTabs").setLastUsedTab(b("UFIGroupedInputTabs").InputTitleEnum.EMOJI);return b("bs_curry")._1(c,a)},onEmoticonSelect:h,onGifSelect:function(a,c){b("UFIGroupedInputTabs").setLastUsedTab(b("UFIGroupedInputTabs").InputTitleEnum.GIF);k(a,e,f);return b("bs_curry")._1(d,!1)},onLinkClick:h,onStickerSelect:function(a,c){b("UFIGroupedInputTabs").setLastUsedTab(b("UFIGroupedInputTabs").InputTitleEnum.STICKER);b("FantaMessageActions").sendSticker(e,a);return b("bs_curry")._1(d,!1)},toggleFlyout:d,tooltip:g._("Choose emojis, stickers and GIFs")},i)}f.emptyFunction=h;f.handleError=i;f.handleSuccess=j;f.handleStickerSelect=a;f.handleGifSelect=k;f.make=c}),null);
__d("FantaComposerButtons.bs",["cx","bs_block","bs_curry","React","ChatConfig","ReasonReact.bs","ChatPhotoUploaderRe.bs","MercuryGroupedInputButtonsReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").reducerComponent("FantaComposerButtons");function a(a,c,d,e,f,g){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],function(g){var h=b("React").createElement("div",{className:"_67at"},b("ReasonReact.bs").element(0,0,b("MercuryGroupedInputButtonsReact.bs").make(g[1][0],c,function(a){return b("bs_curry")._1(g[3],[a])},e,f,[]))),i=b("ReasonReact.bs").element(0,0,b("ChatPhotoUploaderRe.bs").make(0,0,a,0,0,[!1],0,[d],e,f,[])),j=b("ChatConfig").get("emoji_first");if(j)return b("React").createElement("div",{className:"_25q- _67as _691y"},h,i);else return b("React").createElement("div",{className:"_25q- _67as"},i,h)},function(){return[!1]},h[11],function(c,a){return b("bs_block").__(0,[[c[0]]])},h[13]]}f.component=h;f.make=a}),null);
__d("XUISpinnerReact.bs",["ReasonReact.bs","XUISpinner.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("ReasonReact.bs").wrapJsForReason(b("XUISpinner.react"),{},a)}f.make=a}),null);
__d("FantaM4Input.bs",["cx","fbt","bs_block","bs_curry","React","Bootload.bs","Bootloader","ChatInputRe.bs","ReasonReact.bs","XUISpinnerReact.bs","FantaMessageActions","FantaComposerButtons.bs","CustomColorHighlightingReact.bs","MessengerScrollableAreaReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){b("Bootloader").loadModules(["BootloadableMercuryStageFilePreviewReact.bs"],a,"FantaM4Input.bs");return 0}d=[a];var i=b("Bootload.bs").Create(d);function j(){return 0}function k(a,c){return b("bs_curry")._1(a[3],[c])}function l(a,c,d){__p&&__p();c=c.uploadedFiles;var e=c.size===0;if(e)return null;else{e=d[1][0];if(e)return b("ReasonReact.bs").element(0,0,b("bs_curry")._7(e[0][3],c,!0,"blue",a,function(a,c){b("FantaMessageActions").cancelFileUpload(a,c);return 0},j,[]));else return b("ReasonReact.bs").element(0,0,b("XUISpinnerReact.bs").make([]))}}var m=b("ReasonReact.bs").reducerComponent("fantaM4ComposerContainerReact");function c(a,c,d,e,f,g,j,n,o,p,q,r,s,t,u,v,w,x,y,z){__p&&__p();var A=function(c){var d=u||f;if(d)return null;else return b("ReasonReact.bs").element(0,0,b("FantaComposerButtons.bs").make(a,j,s,c,y,[]))};return[m[0],m[1],m[2],m[3],function(a){return b("bs_curry")._1(i[0],function(b){return k(a,b)})},m[5],m[6],m[7],m[8],function(i){if(v){var j=v[0];j=[j.is_canonical,j.footer_color]}else j=[!1,""];var k=u?h._("Composer is disabled for this thread."):j[0]?h._("Type a message..."):h._("Type a message..."),m=u||f;return b("React").createElement("div",{className:"_6806"},b("ReasonReact.bs").element(0,0,b("MessengerScrollableAreaReact.bs").make(0,[b("React").createElement("div",{className:"_t_i"+(m?" _ybi":"")+(m?"":" _68-z")},l(w,c,i),b("React").createElement("div",{className:"_3zw9",tabIndex:1,onFocus:function(){return b("bs_curry")._1(o,0)}},b("React").createElement("div",{className:"_46ed"},b("ReasonReact.bs").element(0,0,b("CustomColorHighlightingReact.bs").make([j[1]],[b("ReasonReact.bs").element(0,0,b("ChatInputRe.bs").make(a,g,c,d,p,e,0,n,0,q,r,t,k,u,v,w,x,y,[]))]))),A(w)))])))},function(){return[0]},m[11],function(c,a){return b("bs_block").__(0,[[[c[0]]]])},m[13]]}f.BootloadableMercuryStageFilePreviewReact=d;f.LoadableMercuryStageFilePreviewReact=i;f.emptyFunction=j;f.handleStageFilesPreviewLoad=k;f.renderStageFilePreview=l;f.component=m;f.make=c}),null);
__d("ChatComposerFlyoutButtonBootLoader.bs",["ReasonReact.bs","bs_js_null_undefined","ChatComposerFlyoutButtonBootLoader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){return b("ReasonReact.bs").wrapJsForReason(b("ChatComposerFlyoutButtonBootLoader.react"),{excludeTag:a,flyoutAlignment:c,flyoutLoader:d,flyoutProps:e,iconClassName:f,interactionClassName:b("bs_js_null_undefined").fromOption(g),title:h},i)}f.make=a}),null);
__d("ChatEventPlanButtonReact.bs",["cx","ReasonReact.bs","ChatEventPlanButton.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("ChatEventPlanButton.react"),{className:"_679a _2crd",threadID:c,onSuccess:a},d)}f.make=a}),null);
__d("MessengerQuickCamButtonBootLoader.react",["BootloadOnInteraction.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){var a=this.props;return b("React").createElement(b("BootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),a),loader:a.htmlQC?b("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("MessengerQuickCamButtonBootLoader.react"):b("JSResource")("MessengerQuickCamButton.react").__setRef("MessengerQuickCamButtonBootLoader.react"),placeholder:b("React").createElement("span",{className:a.className})})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("MessengerQuickCamButtonBootLoader.bs",["cx","gkx","ReasonReact.bs","MessengerQuickCamButtonBootLoader.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("gkx")("AT44XpsdaaEfcz2GrZ0m8RNEjrTHpQedGRhxmeB3oGdMvETdQ7vdyzqg8MlOqQGInNDXydDTyvvVR5lvi3VlBp7t");function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerQuickCamButtonBootLoader.react"),{className:"_2sab _2crd",htmlQC:h,onSendButtonClick:a,location:"chat tab",threadID:c,viewer:d},e)}f.htmlQCGk=h;f.make=a}),null);
__d("P2PSendMoneyContainerBootloaderReact.bs",["cx","bs_curry","React","ReasonReact.bs","P2PPaymentConfig","FantaMessageActions","MercuryShareAttachmentRenderLocations.bs","P2PSendMoneyContainerBootloader.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("P2PPaymentConfig").config,i=h==null?"":h.currencyCode;function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("P2PSendMoneyContainerBootloader.react"),{button:b("React").createElement("i",{className:"hidden_elem"}),className:"_2crd _2saa"+(i==="GBP"?" _33g4":"")+(i==="EUR"?" _33g5":"")+" _13gj",fromChatTab:!0,participantIDs:d,p2pPaymentConfig:h,flyoutAlignment:"left",referrer:b("MercuryShareAttachmentRenderLocations.bs").getValue(0),threadID:e,onTrigger:function(){b("FantaMessageActions").sendMessage(e,"",a);return b("bs_curry")._1(c,0)}},f)}f.config=h;f.currencyCode=i;f.make=a}),null);
__d("FantaMoreActionsReact.bs",["cx","fbt","React","gkx","JSResource","MercuryIDs","ReasonReact.bs","joinClasses","isWebGLEnabled","ChatEventPlanButtonReact.bs","MessengerScrollableAreaReact.bs","MessengerQuickCamButtonBootLoader.bs","ChatComposerFlyoutButtonBootLoader.bs","P2PSendMoneyContainerBootloaderReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("MoreActionItem");function j(a,c,d){return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],function(){var e="_2crc";e=b("joinClasses")(c,e);return b("React").createElement("li",{key:a,className:e},d,b("React").createElement("p",{className:"_2cre"},a))},i[10],i[11],i[12],i[13]]}c=[i,j];function k(a){a.stopPropagation();a.preventDefault();return 0}function l(a){if(a)return!0;else return!1}var m=b("ReasonReact.bs").statelessComponent("FantaMoreActionsReact");function a(a,c,d,e,f,g,i,n,o,p){__p&&__p();var q=function(){if(b("MercuryIDs").isLocalThread(n))if(i)return[i[0].thread_fbid];else return 0;else return[b("MercuryIDs").getThreadFBIDFromThreadID(n)]},r=function(){if(b("MercuryIDs").isLocalThread(n))if(i){var a=i[0].thread_fbid;if(a==null)return 0;else return[b("MercuryIDs").getThreadIDFromThreadFBID(a)]}else return 0;else return[n]},s=function(){var a=b("gkx")("AT4VU3LTU_m0y3MeJeai7hJytsOcRy63JbTrv7QtkGDcMH9aN_sV8sDNC1ebrhVq0RfT0H4FEgW5UVoJHsOiHpnF"),c=b("isWebGLEnabled")(),e=l(d),f=r(0);if(a&&c&&!(e||!f))return b("ReasonReact.bs").element(0,0,j(h._("Games"),"_13ga",b("ReasonReact.bs").element(0,0,b("ChatComposerFlyoutButtonBootLoader.bs").make(!0,"left",b("JSResource")("MessengerGamesFlyout.react").__setRef("FantaMoreActionsReact.bs"),{threadID:f[0]},"_27yn _2crd _2crc",0,h._("Play a game"),[]))));else return null},t=function(){var a=r(0),e=l(d);if(a&&!e)return b("ReasonReact.bs").element(0,0,j(h._("Plans"),"_13gb",b("ReasonReact.bs").element(0,0,b("ChatEventPlanButtonReact.bs").make(c,a[0],[]))));else return null},u=function(){var f=!g||l(d);if(f)return null;else return b("ReasonReact.bs").element(0,0,j(h._("Payments"),"_13gj",b("ReasonReact.bs").element(0,0,b("P2PSendMoneyContainerBootloaderReact.bs").make(a,c,e,n,[]))))},v=function(){var a=q(0);if(i&&a){var c=i[0].is_canonical;if(c)return null;else return b("ReasonReact.bs").element(0,0,j(h._("Polls"),"_13f_",b("ReasonReact.bs").element(0,0,b("ChatComposerFlyoutButtonBootLoader.bs").make(!0,"left",b("JSResource")("MessengerGroupPollingFlyoutWrapper.react").__setRef("FantaMoreActionsReact.bs"),{threadFBID:a[0]},"_27yo _2crd _2crc",0,h._("Create a poll"),[]))))}else return null},w=function(){var a=b("MercuryIDs").isLocalThread(n);if(a)return null;else return b("ReasonReact.bs").element(0,0,j(h._("Camera"),"_13gk",b("ReasonReact.bs").element(0,0,b("MessengerQuickCamButtonBootLoader.bs").make(c,n,o,[]))))};return[m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],function(){return b("React").createElement("div",{className:"_2crf"+(f?"":" _2vcy"),onClick:k},b("ReasonReact.bs").element(0,0,b("MessengerScrollableAreaReact.bs").make(0,[b("React").createElement("ul",{className:"_2crg"},u(0),s(0),t(0),v(0),w(0))])))},m[10],m[11],m[12],m[13]]}f.MoreActionItem=c;f.handleClick=k;f.isPageChat=l;f.component=m;f.make=a}),null);
__d("FantaM4ComposerReact.bs",["cx","fbt","bs_block","bs_curry","React","bs_string","LinkReact.bs","ReasonReact.bs","FantaM4Input.bs","bs_js_primitive","MercuryThreads","bs_camlinternalLazy","FantaMoreActionsReact.bs","FantaComposerSendButton.bs","FantaM4BotMenuButtonBootloader.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").reducerComponent("fantaM4Composer"),j=b("bs_block").__(246,[function(){return h._("Click for more actions")}]);function k(a,c,d,e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A){__p&&__p();var B=function(a,c){var d=j.tag|0;return b("ReasonReact.bs").element(0,0,b("LinkReact.bs").make(0,0,0,["_sdp _4zs3"+(c[1]?" _15v2":"")],["tooltip"],[d===250?j[0]:d===246?b("bs_camlinternalLazy").force_lazy_block(j):j],0,0,0,0,[function(c){c.stopPropagation();return b("bs_curry")._1(a,1)}],0,0,0,0,0,0,0,[]))},C=function(){var d=c.uploadedFiles,e=a.sharePreview,f=e.params;e=e.type;f=f==null?!1:!(e==null);if(b("bs_string").trim(h).length===0&&d.size===0)return!f;else return!1},D=function(){if(u)return b("ReasonReact.bs").element(0,0,b("FantaM4BotMenuButtonBootloader.bs").make(x,q,[]));else return b("ReasonReact.bs").element(0,0,b("FantaComposerSendButton.bs").make(f,C(0),w,x,[]))};return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],function(f){__p&&__p();var i=f[3];f=f[1];var j=b("MercuryThreads").getForFBID(z).isEmptyLocalThread(x),u=t||j,A=f[0];A=A?"_18yz _18y-"+(u?" _15v3":""):"_18yz _4zs2"+(u?" _15v3":"");var C=b("ReasonReact.bs").element(0,0,b("FantaMoreActionsReact.bs").make(a,d,q,r,f[1],v,w,x,z,[]));j=b("ReasonReact.bs").element(0,0,b("FantaM4Input.bs").make(a,c,e,g,j,h,k,l,function(){return b("bs_curry")._1(i,0)},m,n,o,p,s,t,w,x,y,z,[]));if(u)return b("React").createElement("div",{className:"_18y_"},j);else return b("React").createElement("div",{className:"_18y_"},C,b("React").createElement("div",{className:A},B(i,f),j,D(0)))},function(){return[0,!1]},i[11],function(a,c){switch(a){case 0:return b("bs_block").__(0,[[1,!1]]);case 1:return b("bs_block").__(0,[[c[0],!c[1]]]);case 2:return b("bs_block").__(0,[[c[0],!1]])}},i[13]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return k(a.composer,a.fileUploader,a.focusInput,a.handleSend,a.handleSendClick,b("bs_js_primitive").null_undefined_to_opt(a.inputRef),a.defaultText,a.onEmojiSelect,a.onEscape,a.onInputKeyDown,a.onTab,a.onTextChange,a.onUploaderMount,b("bs_js_primitive").null_undefined_to_opt(a.pageID),a.participantIDs,a.participants,a.disableInput,a.showStructuredMenu,a.showP2PButton,b("bs_js_primitive").null_undefined_to_opt(a.thread),a.threadID,a.uploadPhotoFn,a.viewer,[])});f.component=i;f.moreActionButtonTitle=j;f.make=k;f.jsComponent=a}),null);
__d("FantaM4Composer.react",["FantaM4ComposerReact.bs"],(function(a,b,c,d,e,f){e.exports=b("FantaM4ComposerReact.bs").jsComponent}),null);